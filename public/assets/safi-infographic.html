<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How The SAFi System Works</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Simple animation for cards */
        .flow-card {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Stagger animations */
        .flow-card:nth-child(1) { animation-delay: 0.1s; }
        .flow-card:nth-child(2) { animation-delay: 0.2s; }
        .flow-card:nth-child(3) { animation-delay: 0.3s; }
        .flow-card:nth-child(4) { animation-delay: 0.4s; }
        .flow-card:nth-child(5) { animation-delay: 0.5s; }
        .flow-card:nth-child(6) { animation-delay: 0.6s; }
        .flow-card:nth-child(7) { animation-delay: 0.7s; }

        .arrow {
            position: relative;
            width: 100%;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .arrow::after {
            content: '';
            display: block;
            width: 2px;
            height: 100%;
            background-color: #cbd5e1; /* slate-300 */
        }
        .arrow-head::before {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #cbd5e1; /* slate-300 */
        }
    </style>
</head>
<body class="bg-white text-slate-800">

    <div class="container mx-auto px-4 py-12 md:py-20">
        
        <!-- Header Section -->
        <header class="text-center mb-12 md:mb-20">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900">How SAFi Works</h1>
            <p class="mt-4 text-lg text-slate-600 max-w-3xl mx-auto">A step-by-step overview of how SAFi faithfully implements the Self-Alignment Framework.</p>
        </header>

        <!-- Main Infographic Flow -->
        <div class="max-w-2xl mx-auto relative">
            <div class="flex flex-col items-center">

                <!-- Step 1: User Prompt -->
                <div class="flow-card w-full flex items-center space-x-6">
                    <div class="flex-shrink-0 bg-white border border-slate-200 rounded-full w-16 h-16 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500"><path d="M18 10h-1.26A8 8 0 1 0 4.26 14"/><path d="M12 18V10l-4 4"/></svg>
                    </div>
                    <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-md flex-1">
                        <h3 class="font-bold text-xl text-slate-900">1. User Submits a Prompt</h3>
                        <p class="mt-2 text-slate-600">The process begins when a user asks a question or gives an instruction.</p>
                    </div>
                </div>

                <div class="arrow arrow-head"></div>

                <!-- Step 2: Intellect Engine -->
                <div id="intellect-target" class="flow-card w-full flex items-center space-x-6">
                    <div class="flex-shrink-0 bg-white border border-slate-200 rounded-full w-16 h-16 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500"><path d="M9.06 11.9 8 13v5h2l.94-2.06M13 13h2l-1.4-3.5L13 13z"/><path d="M3 13h2l1.4-3.5L7 13h2"/><circle cx="12" cy="12" r="10"/></svg>
                    </div>
                    <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-md flex-1">
                        <h3 class="font-bold text-xl text-slate-900">2. The Intellect (The Creative Force)</h3>
                        <p class="mt-2 text-slate-600">The Intellect engine generates an initial answer, using conversation history and performance feedback from the Spirit to continuously improve its drafts.</p>
                    </div>
                </div>

                <div class="arrow arrow-head"></div>

                <!-- Step 3: Will Gate -->
                <div class="flow-card w-full flex items-center space-x-6">
                    <div class="flex-shrink-0 bg-white border border-slate-200 rounded-full w-16 h-16 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500"><path d="M13 16.5V9.75a4.5 4.5 0 0 0-4.5-4.5v.001c0 1.66 1.34 3 3 3h.75a3.75 3.75 0 0 1 3.75 3.75v3"/><path d="M8 16.5a1.5 1.5 0 0 1-3 0V15a1.5 1.5 0 0 1 1.5-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-1.5Z"/><path d="M19 16.5a1.5 1.5 0 0 1-3 0V15a1.5 1.5 0 0 1 1.5-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1.5a1.5 1.5 0 0 1-1.5 1.5h-1.5Z"/></svg>
                    </div>
                    <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-md flex-1">
                        <h3 class="font-bold text-xl text-slate-900">3. The Will (The Gatekeeper)</h3>
                        <p class="mt-2 text-slate-600">The Intellect sends its draft to the Will, which checks it against a set of non-negotiable safety rules and ethical guidelines.</p>
                    </div>
                </div>

                <!-- Decision Branch -->
                <div class="w-full relative py-8">
                    <div class="absolute h-full w-0.5 bg-slate-300 left-1/2 -translate-x-1/2 top-0"></div>
                    <div class="absolute w-full h-0.5 bg-slate-300 left-0 top-8"></div>
                    
                    <div class="flex justify-between">
                        <!-- Violation Path -->
                        <div class="w-[45%] text-center">
                            <div class="flow-card bg-red-100 border border-red-300 p-4 rounded-xl shadow-sm">
                                <h4 class="font-semibold text-red-800">Violation Detected</h4>
                                <p class="text-sm text-red-700 mt-1">The draft is blocked and a safe, generic response is sent to the user.</p>
                            </div>
                        </div>
                        <!-- Approved Path -->
                        <div class="w-[45%] text-center">
                            <div class="flow-card bg-green-100 border border-green-300 p-4 rounded-xl shadow-sm">
                                <h4 class="font-semibold text-green-800">Approved</h4>
                                <p class="text-sm text-green-700 mt-1">The draft is approved and sent to the user. The learning process continues.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="arrow arrow-head"></div>

                <!-- Step 4: Conscience Auditor -->
                <div class="flow-card w-full flex items-center space-x-6">
                    <div class="flex-shrink-0 bg-white border border-slate-200 rounded-full w-16 h-16 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                    </div>
                    <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-md flex-1">
                        <h3 class="font-bold text-xl text-slate-900">4. The Conscience (The Auditor)</h3>
                        <p class="mt-2 text-slate-600">Once approved, the Conscience evaluates the response in the background, scoring how well it aligns with the defined ethical principles.</p>
                    </div>
                </div>

                <div class="arrow arrow-head"></div>

                <!-- Step 5: Spirit Integrator -->
                <div id="spirit-source" class="flow-card w-full flex items-center space-x-6">
                     <div class="flex-shrink-0 bg-white border border-slate-200 rounded-full w-16 h-16 flex items-center justify-center shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500"><path d="M21 12a9 9 0 1 1-6.219-8.56"/><path d="M16 4.5V12l-4 2"/></svg>
                    </div>
                    <div class="bg-white border border-slate-200 p-6 rounded-xl shadow-md flex-1">
                        <h3 class="font-bold text-xl text-slate-900">5. The Spirit (The Integrator)</h3>
                        <p class="mt-2 text-slate-600">The Spirit integrates the audit scores into the system's long-term memory. This memory creates the feedback loop that helps the Intellect learn for the future.</p>
                    </div>
                </div>

            </div>
            
            <!-- Result Block -->
            <div class="mt-12 bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-r-lg">
                 <h3 class="font-bold text-xl text-slate-900 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-500 mr-3"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
                    Result: A More Aligned System
                </h3>
                <p class="mt-2 text-slate-600 pl-9">This cycle of generation, checking, and auditing ensures the system not only provides safe responses but also learns to better embody its core ethical principles over time.</p>
            </div>

        </div>

        <!-- What Problems SAFi Solves Section -->
        <div class="mt-20 pt-12 border-t border-slate-200">
            <header class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900">What Problems Does SAFi Solve?</h2>
                <p class="mt-4 text-lg text-slate-600 max-w-3xl mx-auto">Because SAFi works at the foundational level of moral reasoning, it addresses some of the deepest, unresolved problems in AI and institutional decision-making.</p>
            </header>

            <div class="max-w-4xl mx-auto grid md:grid-cols-3 gap-8">
                <!-- Problem 1: Black Box -->
                <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                    <h3 class="font-bold text-xl text-slate-900">1. Opaque AI Reasoning</h3>
                    <p class="mt-2 text-slate-600 font-semibold text-indigo-600">(The Black Box Problem)</p>
                    <p class="mt-4 text-slate-600">Most AI models can generate responses, but they don’t show their moral logic. There’s no ethical trace to audit.</p>
                    <p class="mt-4 text-slate-800 font-semibold">SAFi makes every decision explainable. It logs how the system interpreted a prompt, whether it approved the action, how each value was upheld or violated, and whether the system is drifting from its declared values.</p>
                </div>

                <!-- Problem 2: Value Drift -->
                <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                    <h3 class="font-bold text-xl text-slate-900">2. Value Drift</h3>
                    <p class="mt-4 text-slate-600">Over time, intelligent systems and institutions tend to drift from their stated values—slowly, invisibly, and often irreversibly.</p>
                    <p class="mt-4 text-slate-800 font-semibold">SAFi detects and reflects on that drift in real time. It monitors which values are upheld, which are ignored, and synthesizes this into a measurable moral alignment score.</p>
                </div>

                <!-- Problem 3: Lack of Alignment -->
                <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                    <h3 class="font-bold text-xl text-slate-900">3. Lack of Ethical Alignment</h3>
                    <p class="mt-4 text-slate-600">Most AI systems react to ethical problems through filters, but they lack an internal structure for deliberate ethical reasoning.</p>
                    <p class="mt-4 text-slate-800 font-semibold">SAFi embeds conscience at the system level. It evaluates outputs against declared values, reflects on its decisions, and self-corrects over time. This is structured, moral intelligence.</p>
                </div>
            </div>
        </div>

    </div>

    <!-- In safi-infographic.html -->
<script>
    function sendHeight() {
        const height = document.body.scrollHeight;
        // **Correction:** Specify the exact domain of the parent website
        parent.postMessage({ frameHeight: height }, 'https://selfalignmentframework.com');
    }
    window.onload = sendHeight;
    const resizeObserver = new ResizeObserver(sendHeight);
    resizeObserver.observe(document.body);
</script>

</body>
</html>
